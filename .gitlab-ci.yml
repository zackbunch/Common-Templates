# .gitlab-ci.yml (top-level)

include:
  # - local: /.gitlab/containerize-dependency.gitlab-ci.yml
  # - local: /.gitlab/containerize.gitlab-ci.yml
  - local: /.gitlab/job-rules.gitlab-ci.yml
  - local: /.gitlab/Docker.gitlab-ci.yml
  - local: /.gitlab/container-scan.gitlab-ci.yml
  # - local: /.gitlab/secrets.gitlab-ci.yml


stages: [build, scan]


# Global defaults (inherited by all jobs unless overridden)
default:
  interruptible: true

build:docker:
  extends: .docker_build_template
  variables:
    PUSH_FEATURE_BRANCH: "true"
    BUILD_ARGS: |
      PACKAGE_URL=${CI_API_V4_URL}/projects/${CI_PROJECT_ID}/packages/generic/sqlcl/0.0.1/sqlcl.tar.gz
